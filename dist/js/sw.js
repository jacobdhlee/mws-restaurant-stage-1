"use strict";var cacheName="restaurant_v1",cacheUrl=["/","/index.html","/restaurant.html","css/styles.css","img/","js/main.js","/idb.js","js/dbhelper.js"];self.addEventListener("install",function(e){e.waitUntil(caches.open(cacheName).then(function(e){return e.addAll(cacheUrl)}).catch(function(e){console.log("cache err is ",e)}))}),self.addEventListener("fetch",function(n){n.respondWith(caches.match(n.request).then(function(e){if(e)return e;var t=n.request.clone();return fetch(t).then(function(e){if(!e||200!==e.status||"basic"!==e.type)return e;var t=e.clone();return caches.open(cacheName).then(function(e){e.put(n.request,t)}).catch(function(e){return console.log(e)}),e}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)}))});